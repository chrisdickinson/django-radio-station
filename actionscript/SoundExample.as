package {    import flash.display.Sprite;    import flash.events.*;    import flash.media.Sound;    import flash.media.SoundChannel;    import flash.net.URLRequest;	import flash.external.*;	    public class SoundExample extends Sprite {        private var url:String = "http://amber.streamguys.com:4100/stream.mp3";        private var channel:SoundChannel;		private var sound:Sound;        public function SoundExample() {			var self = this;			ExternalInterface.addCallback("startStop", function(startStop) {				self.receiveStartStopEvent(startStop);			});			ExternalInterface.addCallback("setVolume", function(vol) {				self.receiveVolumeEvent(vol);			});        }				private function receiveProgress(event:ProgressEvent):void {			if(!sound.isBuffering) {				ExternalInterface.call('audioReady', true);				sound.removeEventListener(ProgressEvent.PROGRESS, receiveProgress);			}		}		private function receiveStartStopEvent(startStop):void {			if(startStop && !sound) {				var request:URLRequest = new URLRequest(url);            	sound = new Sound();            	sound.load(request);				sound.addEventListener(ProgressEvent.PROGRESS, receiveProgress);				channel = sound.play();			} else {				channel.stop();				sound.close();				channel = null;				sound = null;			}		}		private function receiveVolumeEvent(vol):void {			if(channel) {				channel.soundTransform.volume = vol; 			}		}    }}